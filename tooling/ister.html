

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ister.py image builder &mdash; Documentation for Clear Linux* project</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mixer" href="mixer.html" />
    <link rel="prev" title="Debug system" href="debug.html" />

<link rel="stylesheet" href="../_static/tcs_theme.css" type="text/css" />


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #007ab2" >
          

          
            <a href="../index.html" class="icon icon-home"> Clear Linux* Project Docs
          

          
            
            <img src="../_static/clearlinux.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Clear Linux</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Language Versions</dt>
        
          <dd><a href="/clearlinux/latest/tooling/ister.html">English</a></dd>
        
          <dd><a href="/clearlinux/latest/zh_CN/tooling/ister.html">Chinese</a></dd>
        
      </dl>
      <dl>
        <dt>Document Versions</dt>
        
          <dd><a href="/clearlinux/latest/tooling/ister.html">latest</a></dd>
        
          <dd><a href="/clearlinux/L19.01/tooling/ister.html">L19.01</a></dd>
        
      </dl>
      <dl>
        <dt>clearlinux.org links</dt>
          <dd>
            <a href="https://www.clearlinux.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/clearlinux/clear-linux-documentation">GitHub</a>
          </dd>
      </dl>
    </div>
  </div>
  
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../get-started/get-started.html">Get started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tooling.html">How to Clear</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="autoproxy.html">Autoproxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="autospec.html">autospec</a></li>
<li class="toctree-l2"><a class="reference internal" href="compatible-kernels.html">Kernels</a></li>
<li class="toctree-l2"><a class="reference internal" href="debug.html">Debug system</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ister.py image builder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#recreate-an-upstream-image">Recreate an upstream image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mixer.html">mixer</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">OS Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="stateless.html">Stateless</a></li>
<li class="toctree-l2"><a class="reference internal" href="swupd-guide.html">swupd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/telemetrics/telem-guide.html">Telemetrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="tooling.html#training">Training</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/guides.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ/faq.html">FAQ</a></li>
</ul>

            
          

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Clear Linux* Project Docs</a>
        
      </nav>


      <div class="wy-nav-content">

<header id="header">
  <div class="padding-md--left-right">

    <div class="header__site_info">
           <div class="header__site_info_name">
             <a href ="https://clearlinux.org"> Clear Linux* Project</a>
           </div>
    </div>
    <nav class="header__menu">
        <ul class="header__menu_list">
                         <li class="header__menu_list_item green  ">
                <a tabindex='1' href="https://clearlinux.org/about">About</a>
              </li>
                         <li class="header__menu_list_item purple  ">
                <a tabindex='1' href="https://clearlinux.org/developer">Developer</a>
              </li>
                         <li class="header__menu_list_item blue  ">
                <a tabindex='1' href="https://clearlinux.org/software">Software</a>
              </li>
        </ul>
    </nav>

  </div>



</header>


        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="tooling.html">How to Clear</a> &raquo;</li>
        
      <li>ister.py image builder</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/clearlinux/clear-linux-documentation/blob/rtd-theme/source/tooling/ister.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ister-py-image-builder">
<span id="ister"></span><h1>ister.py image builder</h1>
<p>The <a class="reference external" href="https://github.com/bryteise/ister">ister.py</a> tool is a template-based installer used by Clear Linux* OS to produce
images for each release. The same ister tool is available for use in Clear Linux OS to
create custom images based on an upstream image.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#description" id="id1">Description</a></li>
<li><a class="reference internal" href="#examples" id="id2">Examples</a></li>
<li><a class="reference internal" href="#related-topics" id="id3">Related topics</a></li>
</ul>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id1">Description</a></h2>
<p>Clear Linux OS is a rolling release and produces an average of 10 releases per week using the
ister tool. With each release we produce multiple
<a class="reference internal" href="../reference/image-types.html#image-types"><span class="std std-ref">image types for different environments</span></a> and use cases such
as installers, Hyper-V, KVM, or VMWare.</p>
<p>Each image has a JSON configuration file that is used by ister to generate the
image. These JSON configuration files describe the image type, partitions, version,
and bundles that will be preinstalled by default with the image. For each image
type we produce, the corresponding JSON configuration file for the image also is
published.</p>
<p>The <a class="reference internal" href="mixer.html#mixer"><span class="std std-ref">mixer</span></a> tool also uses ister to build images for your custom
mix. Like upstream images, a JSON configuration file is defined for the image,
which ister uses to generate the image. Refer to the <a class="reference internal" href="mixer.html#mixer"><span class="std std-ref">mixer</span></a> guide
for instructions on using ister to build an image for a custom mix.</p>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id2">Examples</a></h2>
<div class="section" id="recreate-an-upstream-image">
<h3>Recreate an upstream image</h3>
<p>The published configuration files for upstream images may be used to recreate an
image. Here are some examples:</p>
<ul class="simple">
<li>Use an older version of Clear Linux OS and the image is no longer available (only after
March 2017).</li>
<li>Customize the partitions of an image.</li>
<li>Customize the bundles preinstalled in an image.</li>
<li>Run your own post installation script.</li>
</ul>
<p>Follow these steps to recreate an upstream image based on the image’s JSON
configuration file:</p>
<ol class="arabic">
<li><p class="first">Install the <strong class="command">os-installer</strong> bundle. Refer to <a class="reference internal" href="swupd-guide.html#swupd-guide"><span class="std std-ref">swupd</span></a> for
more information on installing bundles.</p>
</li>
<li><p class="first">Download the <a class="reference external" href="https://github.com/bryteise/ister">ister.py</a> tool and grant it sudo privileges.</p>
</li>
<li><p class="first">Download the JSON configuration file for the desired image (located in
<code class="file docutils literal notranslate"><span class="pre">config/image/</span></code>):</p>
<ul class="simple">
<li><a class="reference external" href="https://cdn.download.clearlinux.org/current/">Current release</a></li>
<li><a class="reference external" href="https://cdn.download.clearlinux.org/releases/">Previous releases</a> (only after March 2017)</li>
</ul>
<p>For a previous release, navigate to <a class="reference external" href="https://cdn.download.clearlinux.org/releases/">Previous releases</a>, select the version
you want, and find the JSON configuration file under
<code class="file docutils literal notranslate"><span class="pre">/clear/config/image</span></code>. For example:
<code class="docutils literal notranslate"><span class="pre">https://cdn.download.clearlinux.org/releases/15700/clear/config/image/</span></code></p>
</li>
<li><p class="first">Download the “PostNonChroot” script (if applicable).</p>
<p>The JSON configuration file for the image may have an accompanying
“PostNonChroot” script that is executed at the end of the image creation
process. If it does, download the script and make it executable.</p>
</li>
<li><p class="first">Edit the JSON configuration file as needed.</p>
</li>
<li><p class="first">If your configuration file has an accompanying “PostNonChroot” script, change
the default path of the script to match your path.</p>
</li>
<li><p class="first">Generate the new image with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo ister.py -t <span class="o">[</span>JSON configuration<span class="o">]</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="related-topics">
<h2><a class="toc-backref" href="#id3">Related topics</a></h2>
<ul class="simple">
<li><a class="reference internal" href="mixer.html#mixer"><span class="std std-ref">mixer</span></a></li>
<li><a class="reference internal" href="../guides/maintenance/bulk-provision.html#bulk-provision"><span class="std std-ref">Bulk provision</span></a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mixer.html" class="btn btn-neutral float-right" title="mixer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="debug.html" class="btn btn-neutral float-left" title="Debug system" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, many
      <span class="lastupdated">
        Last updated on Jul 25, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>


      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  

<script type="text/javascript" src="../_static/tcs_theme.js"></script>



</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mixer &mdash; Documentation for Clear Linux* project</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="OS Security" href="security.html" />
    <link rel="prev" title="ister.py image builder" href="ister.html" />

<link rel="stylesheet" href="../_static/tcs_theme.css" type="text/css" />


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #007ab2" >
          

          
            <a href="../index.html" class="icon icon-home"> Clear Linux* Project Docs
          

          
            
            <img src="../_static/clearlinux.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Clear Linux</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Language Versions</dt>
        
          <dd><a href="/clearlinux/latest/tooling/mixer.html">English</a></dd>
        
          <dd><a href="/clearlinux/latest/zh_CN/tooling/mixer.html">Chinese</a></dd>
        
      </dl>
      <dl>
        <dt>Document Versions</dt>
        
          <dd><a href="/clearlinux/latest/tooling/mixer.html">latest</a></dd>
        
          <dd><a href="/clearlinux/L19.01/tooling/mixer.html">L19.01</a></dd>
        
      </dl>
      <dl>
        <dt>clearlinux.org links</dt>
          <dd>
            <a href="https://www.clearlinux.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/clearlinux/clear-linux-documentation">GitHub</a>
          </dd>
      </dl>
    </div>
  </div>
  
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../get-started/get-started.html">Get started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tooling.html">How to Clear</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="autoproxy.html">Autoproxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="autospec.html">autospec</a></li>
<li class="toctree-l2"><a class="reference internal" href="compatible-kernels.html">Kernels</a></li>
<li class="toctree-l2"><a class="reference internal" href="debug.html">Debug system</a></li>
<li class="toctree-l2"><a class="reference internal" href="ister.html">ister.py image builder</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">mixer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-it-works">How it works</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mix-setup">Mix setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-a-mix">Create a mix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#maintain-or-modify-mix">Maintain or modify mix</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example-1-mix-set-up">Example 1: Mix set up</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-2-create-a-simple-mix">Example 2: Create a simple mix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-3-deploy-updates-to-target">Example 3: Deploy updates to target</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#references">References</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#builder-conf">builder.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bundles">Bundles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configure-and-enable-docker">Configure and enable Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configure-docker-proxy-info">Configure Docker proxy info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-up-a-nginx-web-server-for-mixer">Set up a nginx web server for mixer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="security.html">OS Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="stateless.html">Stateless</a></li>
<li class="toctree-l2"><a class="reference internal" href="swupd-guide.html">swupd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/telemetrics/telem-guide.html">Telemetrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="tooling.html#training">Training</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/guides.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ/faq.html">FAQ</a></li>
</ul>

            
          

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Clear Linux* Project Docs</a>
        
      </nav>


      <div class="wy-nav-content">

<header id="header">
  <div class="padding-md--left-right">

    <div class="header__site_info">
           <div class="header__site_info_name">
             <a href ="https://clearlinux.org"> Clear Linux* Project</a>
           </div>
    </div>
    <nav class="header__menu">
        <ul class="header__menu_list">
                         <li class="header__menu_list_item green  ">
                <a tabindex='1' href="https://clearlinux.org/about">About</a>
              </li>
                         <li class="header__menu_list_item purple  ">
                <a tabindex='1' href="https://clearlinux.org/developer">Developer</a>
              </li>
                         <li class="header__menu_list_item blue  ">
                <a tabindex='1' href="https://clearlinux.org/software">Software</a>
              </li>
        </ul>
    </nav>

  </div>



</header>


        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="tooling.html">How to Clear</a> &raquo;</li>
        
      <li>mixer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/clearlinux/clear-linux-documentation/blob/rtd-theme/source/tooling/mixer.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mixer">
<span id="id1"></span><h1>mixer</h1>
<p><strong>mixer</strong> is the tool used by the Clear Linux* OS team to generate official update
content and releases. The update content generated by mixer is then consumed
by swupd on a downstream client. The same mixer tool is available as part of
Clear Linux OS to create your own customized update content and releases.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#description" id="id5">Description</a></li>
<li><a class="reference internal" href="#how-it-works" id="id6">How it works</a></li>
<li><a class="reference internal" href="#examples" id="id7">Examples</a></li>
<li><a class="reference internal" href="#references" id="id8">References</a></li>
<li><a class="reference internal" href="#related-topics" id="id9">Related topics</a></li>
</ul>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id5">Description</a></h2>
<p>mixer uses the following sources as inputs to generate update content:</p>
<ul class="simple">
<li>Upstream Clear Linux OS bundles with their corresponding RPM packages</li>
<li>Locally-defined bundles with their corresponding local RPM packages</li>
<li>Locally-defined bundles with upstream RPM packages</li>
</ul>
<p>Using the mixer tool, you select which set of content from these sources
will be part of your update. You can select content from each of these sources to make a unique combination of functionality for your custom update content, known as a <strong>mix</strong>.</p>
<p>The update content that mixer generates consists of various pieces of OS
content, update metadata, as well as a complete image. The OS content
includes all files in an update, as well as zero- and delta-packs for improved update performance. The update metadata, stored as manifests, describes all of the bundle information for the update. Update content produced by mixer is then published to a web server and consumed by clients via swupd. Refer to <a class="reference internal" href="swupd-guide.html#swupd-guide"><span class="std std-ref">swupd</span></a> for additional information regarding updates and update content.</p>
</div>
<div class="section" id="how-it-works">
<h2><a class="toc-backref" href="#id6">How it works</a></h2>
<p>Learn the mixer tool set up and workflow.</p>
<div class="contents local topic" id="id2">
<ul class="simple">
<li><a class="reference internal" href="#prerequisites" id="id10">Prerequisites</a></li>
<li><a class="reference internal" href="#mix-setup" id="id11">Mix setup</a></li>
<li><a class="reference internal" href="#create-a-mix" id="id12">Create a mix</a></li>
<li><a class="reference internal" href="#maintain-or-modify-mix" id="id13">Maintain or modify mix</a></li>
</ul>
</div>
<div class="section" id="prerequisites">
<h3><a class="toc-backref" href="#id10">Prerequisites</a></h3>
<ul>
<li><p class="first"><strong class="command">mixer</strong> bundle</p>
<p>Add the mixer tool with the <strong class="command">mixer</strong> bundle. Refer to
<a class="reference internal" href="swupd-guide.html#swupd-guide"><span class="std std-ref">swupd</span></a> for more information on installing bundles.</p>
</li>
<li><p class="first">Docker* container</p>
<p>mixer by default runs all build commands in a Docker container to ensure
the correct tool versions are used. This also allows custom mixes to
automatically perform downstream format bumps when the upstream releases a
format bump. See <a class="reference internal" href="#format-version">Format version</a> for additional information regarding
format bumps.</p>
<p>Refer to <a class="reference internal" href="#configure-and-enable-docker">Configure and enable Docker</a> for instruction.</p>
</li>
<li><p class="first">Docker proxy (optional)</p>
<p>If you use a proxy server, you must set your proxy environment variables and
create a proxy configuration file for the Docker daemon and container.</p>
<p>Consult your IT department for the correct values if you are behind a
corporate proxy.</p>
<p>Refer to <a class="reference internal" href="#configure-docker-proxy-info">Configure Docker proxy info</a> for instruction.</p>
</li>
<li><p class="first">Location to host the update content and images</p>
<p>In order for swupd to make use of your mix, the update content for your mix
must be hosted on a web server. Your mix will be configured with an update
location URL, which swupd will use to pull down updates.</p>
<p>Refer to <a class="reference internal" href="#set-up-a-nginx-web-server-for-mixer">Set up a nginx web server for mixer</a> for an simple example of
setting up an update location.</p>
</li>
</ul>
</div>
<div class="section" id="mix-setup">
<h3><a class="toc-backref" href="#id11">Mix setup</a></h3>
<p>Follow these steps to create and initialize the mixer workspace. Complete
the setup before you create a mix.</p>
<ol class="arabic">
<li><p class="first">Create workspace.</p>
<p>The mixer tool uses a simple workspace to contain all input and output in a
basic directory structure. The workspace is simply an empty folder from
which you execute the mixer commands. Each mix uses its own separate
workspace.</p>
</li>
<li><p class="first">Initialize the workspace and mix.</p>
<p>Before you create a mix, you must explicitly initialize the mixer workspace.
During initialization, the mixer workspace is configured and the base for
your mix is defined. By default, your mix is based on the latest
upstream version and starts with the minimum set of bundles. Your first custom
mix version number starts at 10. Alternatively, you can select other
versions or bundle sets from which to start.</p>
<p>Initialization creates the directory structure within the workspace and adds
the <code class="file docutils literal notranslate"><span class="pre">builder.conf</span></code> file, which is used to configure the mixer tool.</p>
<p>View the <a class="reference external" href="https://github.com/clearlinux/mixer-tools/blob/master/docs/mixer.init.1.rst">mixer.init man page</a> for more information on mixer
initialization.</p>
<p>View the list of suitable <a class="reference external" href="https://github.com/clearlinux/clr-bundles/releases">releases</a> from which to mix.</p>
</li>
<li><p class="first">Edit builder.conf.</p>
<p><code class="file docutils literal notranslate"><span class="pre">builder.conf</span></code> tells the mixer tool how to configure the mix. For
example, it allows you to configure where mixer output is located and where
swupd update content will be located.</p>
<p>At minimum, set the URL of your update server so your custom OS knows where
to get update content.</p>
<p>Refer to the <a class="reference internal" href="#builder-conf">builder.conf</a> section for more information.</p>
</li>
</ol>
</div>
<div class="section" id="create-a-mix">
<h3><a class="toc-backref" href="#id12">Create a mix</a></h3>
<p>A mix is created with the following steps:</p>
<ol class="arabic">
<li><p class="first">Add custom RPMs and set up local repo (optional).</p>
<p>If you are adding custom RPMs to your mix, you must add the RPMs to
your mix workspace and set up a corresponding local repository.</p>
<p>Go to the <a class="reference internal" href="autospec.html#autospec"><span class="std std-ref">autospec</span></a> guide to learn to build RPMs from
scratch. If the RPMs are not built on Clear Linux OS, make sure your
configuration and toolchain builds them correctly for Clear Linux OS. Otherwise there
is no guarantee they will be compatible.</p>
<p>Refer to the <a class="reference internal" href="autospec.html#autospec"><span class="std std-ref">autospec</span></a> guide for more information on using autospec to
build RPMs.</p>
</li>
<li><p class="first">Update and build bundles.</p>
<p>Add, edit, or remove bundles that will be part of your content and build
them. mixer automatically updates the <code class="file docutils literal notranslate"><span class="pre">mixbundles</span></code> file when you
update the bundles in your mix.</p>
<p>View the <a class="reference external" href="https://github.com/clearlinux/mixer-tools/blob/master/docs/mixer.bundle.1.rst">mixer.bundle man page</a> for more information on configuring bundles
in a mix.</p>
<p>View the <a class="reference external" href="https://github.com/clearlinux/mixer-tools/blob/master/docs/mixer.build.1.rst">mixer.build man page</a> for more information on building bundles.</p>
<p>View the <a class="reference internal" href="#bundles">Bundles</a> section for more information on how mixer manages
bundles.</p>
</li>
<li><p class="first">Create the update content.</p>
<p>mixer creates update content with this step. Zero-packs are created
automatically, and delta-packs can be optionally created at the same time
(for all builds after version 0).</p>
<p>A zero-pack is the full set of content needed to go from mix version 0
(nothing) to the mix version for which you just built content.</p>
<p>A delta-pack provides the content <em>delta</em> between a <cite>PAST_VERSION</cite> to a
<cite>MIX_VERSION</cite> that allows the transition from one mix version to another.</p>
<p>View <a class="reference internal" href="swupd-guide.html#swupd-guide"><span class="std std-ref">swupd</span></a>  for more information on update content.</p>
</li>
<li><p class="first">Create image.</p>
<p>mixer creates a bootable image from your updated content using
the <a class="reference internal" href="ister.html#ister"><span class="std std-ref">ister.py image builder</span></a> tool. In this step you can specify which bundles you want
<em>preinstalled</em> in the image. Users can later install other bundles available
in your mix.</p>
</li>
<li><p class="first">Make update available.</p>
<p>Deploy update content and images to your update server.</p>
<p>View the <a class="reference internal" href="#example-3-deploy-updates-to-target">Example 3: Deploy updates to target</a> for a simple deployment
scenario.</p>
</li>
</ol>
</div>
<div class="section" id="maintain-or-modify-mix">
<h3><a class="toc-backref" href="#id13">Maintain or modify mix</a></h3>
<p>Update or modify your content to a new version by following the steps to
create a mix. Increment the mix version number for the next mix.</p>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id7">Examples</a></h2>
<p>The following examples are designed to work together and in order. The examples
use:</p>
<ul class="simple">
<li>A stock installation of Clear Linux OS.</li>
<li>A web server that comes with Clear Linux OS to host the content updates.</li>
<li>A simple VM that updates against the locally produced content created in
Example 2.</li>
</ul>
<p>Complete all <a class="reference internal" href="#prerequisites">Prerequisites</a> before using these examples.</p>
<div class="section" id="example-1-mix-set-up">
<h3>Example 1: Mix set up</h3>
<p>This example shows the basic steps for the first-time setup of
mixer for a new mix.</p>
<ol class="arabic">
<li><p class="first">Create an empty directory to use as a workspace for mixer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir ~/mixer
</pre></div>
</div>
</li>
<li><p class="first">In your mixer workspace, generate an initial mix based on the latest upstream
Clear Linux OS version, with minimum bundles. In the initialization output, be aware
that your initial mix version is set to 10 and that the minimum bundles have
been added.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/mixer
mixer init
</pre></div>
</div>
</li>
<li><p class="first">Edit <code class="file docutils literal notranslate"><span class="pre">builder.conf</span></code> to set the value of CONTENTURL and VERSIONURL to
the IP address of  the nginx* server you set up in the prerequisite
<a class="reference internal" href="#set-up-a-nginx-web-server-for-mixer">Set up a nginx web server for mixer</a>. For example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">CONTENTURL=&quot;http://192.168.25.52&quot;</span>
<span class="go">VERSIONURL=&quot;http://192.168.25.52&quot;</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="example-2-create-a-simple-mix">
<h3>Example 2: Create a simple mix</h3>
<p>This example shows how to create a simple custom mix using upstream content.
We’ll create an image for a QEMU virtual machine that we can use later to test
our mix.</p>
<p>We can use the default bundles that were added during initialization, but these
include the <strong class="command">native-kernel</strong> bundle that is intended to be used on a
bare metal system instead of a VM. So we will modify the default bundle
set to get a smaller kernel image, which will also be faster to load.</p>
<ol class="arabic">
<li><p class="first">Update bundles in mix:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mixer bundle remove kernel-native
mixer bundle add kernel-kvm
</pre></div>
</div>
</li>
<li><p class="first">In this case, we will add the <cite>editors</cite> bundle from upstream, but we will
remove the <cite>joe</cite> editor.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mixer bundle add editors
mixer bundle edit editors
</pre></div>
</div>
</li>
<li><p class="first">Use an editor and manually remove <cite>joe</cite> from the bundle definition.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">$EDITOR</span> ./local-bundles/editors
</pre></div>
</div>
</li>
<li><p class="first">List the bundles in the mix again to confirm removal.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mixer bundle list  --tree
</pre></div>
</div>
</li>
<li><p class="first">Build bundles:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mixer build bundles
</pre></div>
</div>
<p>Look in ~/mixer/update/image/&lt;mix version&gt;/full for the full chroot after the
<strong class="command">build</strong> command completes.</p>
</li>
<li><p class="first">Build update content. Browse to your http://localhost site and you’ll see
the web page is now up, but with no update content. Build the update content:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mixer build update
</pre></div>
</div>
<p>Refresh your http://localhost site and now you can see the update
content for mix version 10.</p>
<p>Look in ~/mixer/update/www/&lt;mix version&gt; to see the update content in your
workspace.</p>
</li>
<li><p class="first">Configure image. Edit the ister configuration file for your image to include
all of the bundles you want preinstalled in the image. If this is the first
time creating an image, first get a copy of the
<code class="file docutils literal notranslate"><span class="pre">release-image-config.json</span></code> template file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -O https://raw.githubusercontent.com/bryteise/ister/master/release-image-config.json
</pre></div>
</div>
<p>For this example, edit <code class="file docutils literal notranslate"><span class="pre">release-image-config.json</span></code> so that the root
partition size is “5G” and replace the “kernel-native” bundle with
“kernel-kvm”.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">  &quot;DestinationType&quot; : &quot;virtual&quot;,</span>
<span class="go">  &quot;PartitionLayout&quot; : [ { &quot;disk&quot; : &quot;release.img&quot;, &quot;partition&quot; : 1, &quot;size&quot; : &quot;32M&quot;, &quot;type&quot; : &quot;EFI&quot; },</span>
<span class="go">                        { &quot;disk&quot; : &quot;release.img&quot;, &quot;partition&quot; : 2, &quot;size&quot; : &quot;16M&quot;, &quot;type&quot; : &quot;swap&quot; },</span>
<span class="go">                        { &quot;disk&quot; : &quot;release.img&quot;, &quot;partition&quot; : 3, &quot;size&quot; : &quot;5G&quot;, &quot;type&quot; : &quot;linux&quot; } ],</span>
<span class="go">  &quot;FilesystemTypes&quot; : [ { &quot;disk&quot; : &quot;release.img&quot;, &quot;partition&quot; : 1, &quot;type&quot; : &quot;vfat&quot; },</span>
<span class="go">                        { &quot;disk&quot; : &quot;release.img&quot;, &quot;partition&quot; : 2, &quot;type&quot; : &quot;swap&quot; },</span>
<span class="go">                        { &quot;disk&quot; : &quot;release.img&quot;, &quot;partition&quot; : 3, &quot;type&quot; : &quot;ext4&quot; } ],</span>
<span class="go">  &quot;PartitionMountPoints&quot; : [ { &quot;disk&quot; : &quot;release.img&quot;, &quot;partition&quot; : 1, &quot;mount&quot; : &quot;/boot&quot; },</span>
<span class="go">                             { &quot;disk&quot; : &quot;release.img&quot;, &quot;partition&quot; : 3, &quot;mount&quot; : &quot;/&quot; } ],</span>
<span class="go">  &quot;Version&quot;: &quot;latest&quot;,</span>
<span class="go">  &quot;Bundles&quot;: [&quot;kernel-kvm&quot;, &quot;os-core&quot;, &quot;os-core-update&quot;]</span>
<span class="go">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Build the image.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mixer build image
</pre></div>
</div>
<p>The output from this step will be <code class="file docutils literal notranslate"><span class="pre">release.img</span></code>, which is a live image.</p>
</li>
<li><p class="first">Make the next mix. Create a new version of your mix, for the live image to
update to. Increment your mix version by 10:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mixer versions update
</pre></div>
</div>
<p>Repeat steps 1-3 to add the upstream <strong class="command">curl</strong> bundle to the mix:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mixer bundle add curl
mixer build bundles
mixer build update
</pre></div>
</div>
<p>Build optional delta-packs, which helps reduce client update time:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mixer build delta-packs --from <span class="m">10</span> --to <span class="m">20</span>
</pre></div>
</div>
<p>Refresh your http://localhost site to see the update content for
mix version 20.</p>
<p>Look in ~/mixer/update/www/&lt;mix version&gt; to see the update content in your
workspace.</p>
</li>
</ol>
</div>
<div class="section" id="example-3-deploy-updates-to-target">
<h3>Example 3: Deploy updates to target</h3>
<p>The image created in Example 2 is directly bootable in QEMU. In this example,
we’ll boot the image from Example 2 to verify it, and update the image from
mix version 10 (from which the image was built), to mix version 20.</p>
<ol class="arabic">
<li><p class="first">Set up the QEMU environment.</p>
<p>Install the <strong class="command">kvm-host</strong> bundle to your Clear Linux OS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo swupd bundle-add kvm-host
</pre></div>
</div>
<p>Get the virtual EFI firmware, download the image launch script, and make it
executable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -O https://download.clearlinux.org/image/OVMF.fd
curl -O https://download.clearlinux.org/image/start_qemu.sh
chmod +x start_qemu.sh
</pre></div>
</div>
</li>
<li><p class="first">Start your VM image (created in Example 2):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo ./start_qemu.sh release.img
</pre></div>
</div>
</li>
<li><p class="first">Log in as root and set a password</p>
</li>
<li><p class="first">Try out your mix.</p>
<p>Take a look at the default bundles installed in your mix:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>swupd info
swupd bundle-list
swupd bundle-list -a
</pre></div>
</div>
</li>
<li><p class="first">Now we will add the <cite>editors</cite> bundle that we modified.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>swupd bundle add editors
</pre></div>
</div>
</li>
<li><p class="first">Try to start the <cite>joe</cite> editor.  It should not appear because we removed it
from the original <cite>editors</cite> bundle.</p>
</li>
<li><p class="first">Next we will update from version 10 to 20 to capture the newly
available bundles. Use <strong class="command">swupd</strong> to update your mix:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>swupd check-update
swupd update
swupd bundle-list -a
</pre></div>
</div>
</li>
<li><p class="first">Now your mix should be at version 20 and curl is now available. Try using
curl. This will fail because curl is not yet installed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">curl: command not found</span>
<span class="go">To install curl use: swupd bundle-add curl</span>
</pre></div>
</div>
<p>Add the new bundle from your update server to your VM. Retry curl. It works!</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>swupd bundle-add curl
curl -O https://download.clearlinux.org/image/start_qemu.sh
</pre></div>
</div>
<p>Shutdown your VM:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>poweroff
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="references">
<h2><a class="toc-backref" href="#id8">References</a></h2>
<p>Reference the <a class="reference external" href="https://github.com/clearlinux/mixer-tools/blob/master/docs/mixer.1.rst">mixer man page</a> for details regarding mixer commands and options.</p>
<div class="contents local topic" id="id3">
<ul class="simple">
<li><a class="reference internal" href="#builder-conf" id="id14">builder.conf</a></li>
<li><a class="reference internal" href="#bundles" id="id15">Bundles</a></li>
<li><a class="reference internal" href="#configure-and-enable-docker" id="id16">Configure and enable Docker</a></li>
<li><a class="reference internal" href="#configure-docker-proxy-info" id="id17">Configure Docker proxy info</a></li>
<li><a class="reference internal" href="#set-up-a-nginx-web-server-for-mixer" id="id18">Set up a nginx web server for mixer</a></li>
</ul>
</div>
<div class="content-collapse section" id="builder-conf">
<h3><a class="toc-backref" href="#id14">builder.conf</a></h3>
<p>mixer initialization creates a <code class="file docutils literal notranslate"><span class="pre">builder.conf</span></code> that stores the basic
configuration for the mixer tool. The items of primary interest are CONTENTURL
and VERSIONURL, which will be used by systems updating against your custom
content.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span>builder.conf

<span class="gp">#</span>VERSION <span class="m">1</span>.0

<span class="go">[Builder]</span>
<span class="go">  CERT = &quot;/home/clr/mix/Swupd_Root.pem&quot;</span>
<span class="go">  SERVER_STATE_DIR = &quot;/home/clr/mix/update&quot;</span>
<span class="go">  VERSIONS_PATH = &quot;/home/clr/mix&quot;</span>
<span class="go">  YUM_CONF = &quot;/home/clr/mix/.yum-mix.conf&quot;</span>

<span class="go">[Swupd]</span>
<span class="go">  BUNDLE = &quot;os-core-update&quot;</span>
<span class="go">  CONTENTURL = &quot;&lt;URL where the content will be hosted&gt;&quot;</span>
<span class="go">  VERSIONURL = &quot;&lt;URL where the version of the mix will be hosted&gt;&quot;</span>

<span class="go">[Server]</span>
<span class="go">  DEBUG_INFO_BANNED = &quot;true&quot;</span>
<span class="go">  DEBUG_INFO_LIB = &quot;/usr/lib/debug&quot;</span>
<span class="go">  DEBUG_INFO_SRC = &quot;/usr/src/debug&quot;</span>

<span class="go">[Mixer]</span>
<span class="go">  LOCAL_BUNDLE_DIR = &quot;/home/clr/mix/local-bundles&quot;</span>
<span class="go">  LOCAL_REPO_DIR = &quot;&quot;</span>
<span class="go">  LOCAL_RPM_DIR = &quot;&quot;</span>
<span class="go">  DOCKER_IMAGE_PATH = &quot;clearlinux/mixer&quot;</span>
</pre></div>
</div>
<p>Additional explanation of variables in <code class="file docutils literal notranslate"><span class="pre">builder.conf</span></code> is provided in Table
1.</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Variable</strong></td>
<td><strong>Explanation</strong></td>
</tr>
<tr class="row-even"><td><cite>CERT</cite></td>
<td><p class="first">Sets the path where mixer stores the certificate file
used to sign content for verification. mixer
automatically generates the certificate if you do not
provide the path to an existing one, and signs the
<code class="file docutils literal notranslate"><span class="pre">Manifest.MoM</span></code> file to provide security for the
updated content you create.</p>
<p>chroot-builder uses the certificate file to sign
the root <code class="file docutils literal notranslate"><span class="pre">Manifest.MoM</span></code> file to provide
security for content verification.</p>
<p>swupd uses this certificate to verify the
<code class="file docutils literal notranslate"><span class="pre">Manifest.MoM</span></code> file’s signature.</p>
<p class="last">For now, we strongly recommend that you do not modify
this variable, as swupd expects a certificate with a
very specific configuration to sign and verify
properly.</p>
</td>
</tr>
<tr class="row-odd"><td><cite>CONTENTURL</cite> and <cite>VERSIONURL</cite></td>
<td><p class="first">Set these variables to the IP address of the web server
hosting the update content.</p>
<p>VERSIONURL is the IP address where the swupd client
looks to determine if a new version is available.</p>
<p>CONTENTURL is the location from which swupd pulls
content updates.</p>
<p>If the web server is on the same machine as the
SERVER_STATE_DIR directory, you can create a symlink to
the directory in your web server’s document root to
easily host the content.</p>
<p class="last">These URLs are embedded in the images created by mixer.</p>
</td>
</tr>
<tr class="row-even"><td><cite>DOCKER_IMAGE_PATH</cite></td>
<td>Sets the base name of the docker image that mixer pulls
down to run builds in the proper container.</td>
</tr>
<tr class="row-odd"><td><cite>LOCAL_BUNDLE_DIR</cite></td>
<td>Sets the path where mixer stores the local bundle
definition files. The bundle definition files include
any new, original bundles you create, along with any
edited versions of upstream bundles.</td>
</tr>
<tr class="row-even"><td><cite>SERVER_STATE_DIR</cite></td>
<td>Sets the path to which mixer outputs content. By
default, mixer automatically sets the path.</td>
</tr>
<tr class="row-odd"><td><cite>VERSIONS_PATH</cite></td>
<td>Sets the path for the mix version and upstream version’s
two state files: <code class="file docutils literal notranslate"><span class="pre">mixversion</span></code> and
<code class="file docutils literal notranslate"><span class="pre">upstreamversion</span></code>. mixer creates both files for
you when you set up the workspace.</td>
</tr>
<tr class="row-even"><td><cite>YUM_CONF</cite></td>
<td><p class="first">Sets the path where mixer automatically generates the
<code class="file docutils literal notranslate"><span class="pre">.yum-mix.conf</span></code> file.</p>
<p class="last">The yum configuration file points the chroot-builder to
where the RPMs are stored.</p>
</td>
</tr>
<tr class="row-odd"><td colspan="2"><strong>Table 1</strong>: <em>Variables in builder.conf</em></td>
</tr>
</tbody>
</table>
<div class="section" id="format-version">
<h4>Format version</h4>
<p>Compatible versions of an OS are tracked with an OS <em>compatibility epoch</em>.
Versions of an OS within an epoch are fully compatible and can update to any
other version within that epoch. The compatibility epoch is set as the
<cite>Format</cite> variable in the <code class="file docutils literal notranslate"><span class="pre">mixer.state</span></code> file. Variables in the
<code class="file docutils literal notranslate"><span class="pre">mixer.state</span></code> are used by mixer between executions and should not be
manually changed.</p>
<p>A format bump is like modifying the foundation of a house to create a new
level. If <cite>Format</cite> increments to a new epoch (a “format bump”), the OS has
changed in such a way that updating from build A in format X to build B in
format Y will not work.</p>
<p>A format bump is required when:</p>
<ul class="simple">
<li>The software updater, <strong class="command">swupd</strong>, or the software is no longer
compatible with the previous update scheme</li>
<li>A package is removed from the update stream and the update must ensure the
files associated with that package are removed from the system</li>
</ul>
<p>Using a format increment, we make sure pre- and co-requisite changes flow out
with proper ordering. The updated client will only update to the latest
release in its respective format version, unless overridden by command line
flags. In this way, we can guarantee that all clients update to the final
version in their given format.</p>
<p>The given format <em>must</em> contain all the changes needed to understand the content built in the next format. Only after reaching the final release in the old format can a client continue to update to releases in the new format.</p>
<p>The format version is incremented only when a compatibility breakage is
introduced. Normal updates, such as updating a software package, do not require a format increment.</p>
</div>
</div>
<div class="content-collapse section" id="bundles">
<h3><a class="toc-backref" href="#id15">Bundles</a></h3>
<p>mixer stores information about the bundles included in a mix in a flat file
called <code class="file docutils literal notranslate"><span class="pre">mixbundles</span></code>, which is located in the path set by the VERSIONS_PATH variable in <code class="file docutils literal notranslate"><span class="pre">builder.conf</span></code>. <code class="file docutils literal notranslate"><span class="pre">mixbundles</span></code> is automatically created when the mix is initiated. mixer will refresh the file each time you change the bundles in the mix.</p>
<p>Bundles can include other bundles. Nested bundles can themselves include
other bundles. If you see an unexpected bundle in your mix, it is likely a
nested bundle in one of the bundles you explicitly added.</p>
<p>A bundle will fill into one of two categories: upstream or local. Upstream
bundles are those provided by Clear Linux OS. Local bundles are either modified upstream bundles or new local bundles.</p>
<div class="section" id="upstream-bundles">
<h4>Upstream bundles</h4>
<p>mixer automatically downloads and caches upstream bundle definition files.
These definition files are stored in the upstream-bundles directory in the
workspace. Do not modify the files in this directory. This directory is
simply a mirror for mixer to use. mixer will automatically delete the
contents of this directory before repopulating it on-the-fly if a new
version must be downloaded.</p>
<p>The mixer tool automatically caches the bundles for the Clear Linux OS version
configured in the <code class="file docutils literal notranslate"><span class="pre">upstreamversion</span></code> file. mixer also cleans up old
versions once they are no longer needed.</p>
</div>
<div class="section" id="local-bundles">
<h4>Local bundles</h4>
<p>Local bundles are bundles that you create, or are edited versions of upstream
bundles. Local bundle definition files are stored in the local-bundles
directory in the workspace. The LOCAL_BUNDLE_DIR variable sets the path of this directory in the <code class="file docutils literal notranslate"><span class="pre">builder.conf</span></code> file.</p>
<p><em>mixer always checks for local bundles first and the upstream bundles
second.</em> So bundles in the local-bundles directory will always take
precedence over any upstream bundles that have the same name. This
precedence enables you to copy upstream bundles locally, and edit into a
local variation.</p>
</div>
<div class="section" id="bundle-configuration">
<h4>Bundle configuration</h4>
<p>mixer provides commands to configure the bundles for a mix, such as to add a
bundle to a mix, to create a new bundle for a mix, or to remove a bundle from a
mix. View the <a class="reference external" href="https://github.com/clearlinux/mixer-tools/blob/master/docs/mixer.bundle.1.rst">mixer.bundle man page</a> for a full list of commands and more
information on configuring bundles in a mix.</p>
<p>Editing an existing local bundle is as simple as opening the bundle definition
file in your favorite editor, making the desired edits, and saving your changes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Removing bundles from a mix: By default, removing a bundle will only
remove the bundle from the mix. The local bundle definition file will
still remain. To completely remove a bundle, including its local bundle definition file, use the <strong class="command">--local</strong> flag.</p>
<p class="last">If you remove the bundle definition file for a local, edited version of an
upstream bundle in a mix, the mix reverts to reference the original upstream version of the bundle.</p>
</div>
</div>
</div>
<div class="content-collapse section" id="configure-and-enable-docker">
<h3><a class="toc-backref" href="#id16">Configure and enable Docker</a></h3>
<p>Use these steps to enable Docker for the mixer tool. Make sure to
<a class="reference internal" href="#configure-docker-proxy-info">Configure Docker proxy info</a> first if needed.</p>
<ol class="arabic">
<li><p class="first">Start the Docker daemon:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl start docker
sudo chmod <span class="m">777</span> /var/run/docker.sock
sudo docker info
</pre></div>
</div>
</li>
<li><p class="first">Add user to the docker group</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo usermod -G docker -a &lt;username&gt;
</pre></div>
</div>
</li>
</ol>
<div class="section" id="pull-docker-container-manually-optional">
<h4>Pull Docker container manually (optional)</h4>
<p>By default, mixer automatically pulls a Docker container for mixing if one
does not already exist. If you need to troubleshoot the mixer container, it
may be useful to manually pull a mixer Docker container.</p>
<p>Versions of the mixer Docker container are available under the tags for the
<a class="reference external" href="https://hub.docker.com/r/clearlinux/mixer/tags/">clearlinux/mixer repo</a>
on Docker Hub. Each version of the mixer Docker container is named after the
associated Clear Linux OS upstream format version. Refer to <a class="reference internal" href="#format-version">Format version</a> for
additional information on upstream format versions.</p>
<p>Use the following steps to manually pull a mixer Docker container:</p>
<ol class="arabic">
<li><p class="first">Find the version of the container you need by viewing the tags for the
<a class="reference external" href="https://hub.docker.com/r/clearlinux/mixer/tags/">clearlinux/mixer repo</a>
on Docker Hub.</p>
</li>
<li><p class="first">Pull the latest container version:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker pull clearlinux/mixer:&lt;upstream-format-version&gt;
</pre></div>
</div>
</li>
<li><p class="first">View local docker images:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker images
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="content-collapse section" id="configure-docker-proxy-info">
<h3><a class="toc-backref" href="#id17">Configure Docker proxy info</a></h3>
<p>If needed, use these steps to configure the Docker proxy information.</p>
<ol class="arabic">
<li><p class="first">Create the Docker daemon proxy config directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mkdir -p /etc/systemd/system/docker.service.d
</pre></div>
</div>
</li>
<li><p class="first">Create <code class="file docutils literal notranslate"><span class="pre">/etc/systemd/system/docker.service.d/http-proxy.conf</span></code> and
add the following using your own proxy values:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[Service]</span>
<span class="go">Environment=&quot;HTTP_PROXY=&lt;HTTP proxy URL&gt;:&lt;port number&gt;&quot;</span>
<span class="go">Environment=&quot;HTTPS_PROXY=&lt;HTTPS proxy URL&gt;:&lt;port number&gt;&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Reload the Docker daemon:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl daemon-reload
</pre></div>
</div>
</li>
</ol>
<p>Configure the Docker container proxies, to pass proxy settings to
containers:</p>
<ol class="arabic">
<li><p class="first">Create a directory for your container config:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir ~/.docker
</pre></div>
</div>
</li>
<li><p class="first">Create the config file <code class="file docutils literal notranslate"><span class="pre">~/.docker/config.json</span></code> and add the following
entries, using your own proxy values:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">  &quot;proxies&quot;:</span>
<span class="go">  {</span>
<span class="go">    &quot;default&quot;:</span>
<span class="go">    {</span>
<span class="go">      &quot;httpProxy&quot;: &quot;&lt;proxy-url&gt;:&lt;port&gt;&quot;,</span>
<span class="go">      &quot;httpsProxy&quot;: &quot;&lt;proxy-url&gt;:&lt;port&gt;&quot;</span>
<span class="go">    }</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Set ownership and permission on the docker config directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo chown <span class="s2">&quot;</span><span class="nv">$USER</span><span class="s2">&quot;</span>:<span class="s2">&quot;</span><span class="nv">$USER</span><span class="s2">&quot;</span> /home/<span class="s2">&quot;</span><span class="nv">$USER</span><span class="s2">&quot;</span>/.docker -R
sudo chmod g+rwx <span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.docker&quot;</span> -R
</pre></div>
</div>
</li>
</ol>
<p>Configure proxies to allow mixer to access upstream content from behind
a firewall.</p>
<ol class="arabic">
<li><p class="first">Open your <code class="file docutils literal notranslate"><span class="pre">$HOME/.bashrc</span></code> file and add proxy and port values for the
following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">export http_proxy=&quot;&lt;proxy-url&gt;:&lt;port&gt;&quot;</span>
<span class="go">export https_proxy=&quot;&lt;proxy-url&gt;:&lt;port&gt;&quot;</span>
<span class="go">export HTTP_PROXY=&quot;&lt;proxy-url&gt;:&lt;port&gt;&quot;</span>
<span class="go">export HTTPS_PROXY=&quot;&lt;proxy-url&gt;:&lt;port&gt;&quot;</span>
<span class="go">export no_proxy=&quot;&lt;...&gt;&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Log out and log back in for the proxies to take effect.</p>
</li>
</ol>
</div>
<div class="content-collapse section" id="set-up-a-nginx-web-server-for-mixer">
<h3><a class="toc-backref" href="#id18">Set up a nginx web server for mixer</a></h3>
<p>A web server is needed to host your update content. In this example, we use
the nginx web server, which comes with Clear Linux OS.</p>
<p>Set up a nginx web server for mixer with the following steps:</p>
<ol class="arabic">
<li><p class="first">Install the <strong class="command">nginx</strong> bundle:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo swupd bundle-add nginx
</pre></div>
</div>
</li>
<li><p class="first">Make the directory where mixer updates will reside:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mkdir -p /var/www
</pre></div>
</div>
</li>
<li><p class="first">Create a symbolic link between your workspace updates and the updates on
the local nginx web server. In this example, <cite>$HOME/mixer</cite> is the
workspace for the mix.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo ln -sf <span class="nv">$HOME</span>/mixer/update/www /var/www/mixer
</pre></div>
</div>
</li>
<li><p class="first">Set up <code class="docutils literal notranslate"><span class="pre">nginx</span></code> configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mkdir -p  /etc/nginx/conf.d
</pre></div>
</div>
</li>
<li><p class="first">Copy the default example configuration file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo cp -f /usr/share/nginx/conf/nginx.conf.example /etc/nginx/nginx.conf
</pre></div>
</div>
</li>
<li><p class="first">Configure the mixer update server. Create and add the following server
configuration content to <code class="file docutils literal notranslate"><span class="pre">/etc/nginx/conf.d/mixer.conf</span></code> (sudo required):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">server {</span>
<span class="go">     server_name localhost;</span>
<span class="go">     location / {</span>
<span class="go">               root /var/www/mixer;</span>
<span class="go">               autoindex on;</span>
<span class="go">     }</span>
<span class="go">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Restart the daemon, enable nginx on boot, and start the service.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl daemon-reload

sudo systemctl <span class="nb">enable</span> nginx

sudo systemctl start nginx
</pre></div>
</div>
</li>
<li><p class="first">Verify the web server is running at http://localhost. At this point
you should no longer see a “404 Not Found” message.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="related-topics">
<h2><a class="toc-backref" href="#id9">Related topics</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../concepts/mixer-about.html#mixer-about"><span class="std std-ref">About mixer</span></a></li>
<li><a class="reference internal" href="../concepts/autospec-about.html#autospec-about"><span class="std std-ref">Autospec</span></a></li>
<li><a class="reference internal" href="../concepts/bundles-about.html#bundles-about"><span class="std std-ref">Bundles</span></a></li>
<li><a class="reference internal" href="../concepts/swupd-about.html#swupd-about"><span class="std std-ref">swupd: software updater</span></a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="security.html" class="btn btn-neutral float-right" title="OS Security" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ister.html" class="btn btn-neutral float-left" title="ister.py image builder" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, many
      <span class="lastupdated">
        Last updated on Jul 25, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>


      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  

<script type="text/javascript" src="../_static/tcs_theme.js"></script>



</body>
</html>
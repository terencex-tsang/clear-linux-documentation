

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Enable simple file sharing with a Windows* machine using Samba* &mdash; Documentation for Clear Linux* project</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'zh_CN',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="Connect to Windows* shared location from Clear Linux* OS desktop" href="smb-desktop.html" />
    <link rel="prev" title="Create and launch Clear Linux* OS from Amazon Web Services" href="../aws-web/aws-web.html" />

<link rel="stylesheet" href="../../_static/tcs_theme.css" type="text/css" />


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #007ab2" >
          

          
            <a href="../../index.html" class="icon icon-home"> Clear Linux* Project Docs
          

          
            
            <img src="../../_static/clearlinux.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Clear Linux</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Language Versions</dt>
        
          <dd><a href="/clearlinux/tutorials/smb/smb.html">English</a></dd>
        
          <dd><a href="/clearlinux/zh_CN/tutorials/smb/smb.html">Chinese</a></dd>
        
      </dl>
      <dl>
        <dt>Document Versions</dt>
        
          <dd><a href="/clearlinux/tutorials/smb/smb.html">latest</a></dd>
        
          <dd><a href="/clearlinux/L19.01/tutorials/smb/smb.html">L19.01</a></dd>
        
      </dl>
      <dl>
        <dt>clearlinux.org links</dt>
          <dd>
            <a href="https://www.clearlinux.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/clearlinux/clear-linux-documentation">GitHub</a>
          </dd>
      </dl>
    </div>
  </div>
  
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/get-started.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tooling/tooling.html">How to Clear</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/guides.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../wordpress/wordpress.html">WordPress* on Clear Linux* OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flatpak/flatpak.html">Use Flatpak* to install applications on Clear Linux* OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../machine-learning/machine-learning.html">TensorFlow* machine learning on Clear Linux* OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docker/docker.html">Run Docker* on Clear Linux* OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../azure.html">Run Clear Linux* OS using Microsoft Azure CLI 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hadoop.html">Set up a single node cluster with Hadoop*</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fmv.html">Use the function multi-version patch generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws-web/aws-web.html">Create and launch Clear Linux* OS from Amazon Web Services</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Enable simple file sharing with a Windows* machine using Samba*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-up-file-sharing">Set up file sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#map-cl-drive-in-windows">Map Clear Linux OS drive in Windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="smb-desktop.html">Connect to Windows* shared location from Clear Linux* OS desktop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark.html">Set up a standalone cluster system using Apache* Spark*</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kata.html">Install Kata Containers*</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kata_migration.html">Migrate Clear Containers to Kata Containers*</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kubernetes/kubernetes.html">Run Kubernetes*</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kubernetes/kubernetes-bp.html">Kubernetes Best Practices on Clear Linux OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yubikey-u2f.html">Enable YubiKey U2F Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nvidia.html">Install NVIDIA* Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../redis.html">Run Redis on Clear Linux* OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial-proxy.html">Setting up proxy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../FAQ/faq.html">FAQ</a></li>
</ul>

            
          

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Clear Linux* Project Docs</a>
        
      </nav>


      <div class="wy-nav-content">

<header id="header">
  <div class="padding-md--left-right">

    <div class="header__site_info">
           <div class="header__site_info_name">
             <a href ="https://clearlinux.org"> Clear Linux* Project</a>
           </div>
    </div>
    <nav class="header__menu">
        <ul class="header__menu_list">
                         <li class="header__menu_list_item green  ">
                <a tabindex='1' href="https://clearlinux.org/about">About</a>
              </li>
                         <li class="header__menu_list_item purple  ">
                <a tabindex='1' href="https://clearlinux.org/developer">Developer</a>
              </li>
                         <li class="header__menu_list_item blue  ">
                <a tabindex='1' href="https://clearlinux.org/software">Software</a>
              </li>
        </ul>
    </nav>

  </div>



</header>


        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../tutorials.html">Tutorials</a> &raquo;</li>
        
      <li>Enable simple file sharing with a Windows* machine using Samba*</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/clearlinux/clear-linux-documentation/blob/rtd-theme/source/tutorials/smb/smb.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="enable-simple-file-sharing-with-a-windows-machine-using-samba">
<span id="clear-samba-share-to-windows"></span><h1>Enable simple file sharing with a Windows* machine using Samba*</h1>
<p>This tutorial describes how to enable simple file sharing from a system
running Clear Linux* OS to a Windows machine using Samba. For more advanced sharing,
refer to the <a class="reference external" href="https://www.samba.org/samba/docs/using_samba/ch00.html">Samba guide</a>.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites</h2>
<p>This tutorial assumes you have installed Clear Linux OS on your host system. For
detailed instructions, follow the steps in <a class="reference internal" href="../../get-started/bare-metal-install-desktop/bare-metal-install-desktop.html#bare-metal-install-desktop"><span class="std std-ref">Install Clear Linux* OS from the live desktop</span></a>.</p>
<p>Before you install any new packages, update Clear Linux OS with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo swupd update
</pre></div>
</div>
</div>
<div class="section" id="set-up-file-sharing">
<h2>Set up file sharing</h2>
<ol class="arabic">
<li><p class="first">Log in and get root privileges.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo -s
</pre></div>
</div>
</li>
<li><p class="first">Add the storage-utils bundle, which includes the Samba binaries.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>swupd bundle-add storage-utils
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">The os-clr-on-clr bundle also includes the Samba binaries.</p>
</div>
</li>
<li><p class="first">Create a configuration file called <code class="file docutils literal notranslate"><span class="pre">/etc/samba/smb.conf</span></code>. In this
example, <cite>[Downloads]</cite> enables a folder share with a specific user.
<cite>[Documents]</cite> enables a folder share with any user. The example assumes that a
user account <cite>clearlinuxuser</cite> already exists.</p>
<p>If <cite>valid users</cite> is not specified, then anyone with a user account on the
machine and with their Samba password already set can access the folder.
However, the account is only able to access files and folders for which
they have appropriate permissions.</p>
<p>Use <strong class="command">chown</strong> or <strong class="command">chmod</strong> to change either the owner of the
file or the permissions to allow other users to access the file.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[Global]</span>
<span class="go">map to guest = bad user</span>

<span class="go">[Downloads]</span>
<span class="go">path=/home/clearlinuxuser/Downloads</span>
<span class="go">read only = no</span>
<span class="go">guest ok = no</span>
<span class="go">valid users = clearlinuxuser</span>

<span class="go">[Documents]</span>
<span class="go">path=/home/clearlinuxuser/Documents</span>
<span class="go">read only = no</span>
<span class="go">browsable = yes</span>
<span class="go">guest ok = yes</span>
</pre></div>
</div>
</li>
<li><p class="first">Enable the Samba daemon to start every time.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl <span class="nb">enable</span> smb
systemctl start smb
</pre></div>
</div>
</li>
<li><p class="first">Use <strong class="command">smbpasswd</strong> to add the initial password for the user
account to access the share. Be aware that Samba maintains its own list of
passwords for user accounts. The Samba password list can be different than
the password used to log in.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>smbpasswd -a clearlinuxuser
</pre></div>
</div>
</li>
</ol>
<p>Setup is complete and a Windows machine on the same network can access the
shares. Windows uses the format <code class="file docutils literal notranslate"><span class="pre">\\[server</span> <span class="pre">IP</span> <span class="pre">or</span> <span class="pre">hostname]\folder</span></code> to
access shares. Access the shares directly with Windows Explorer or by
mapping a network drive.</p>
<p>Use the IP address of the Clear Linux OS machine for an easy access method. If the
Clear Linux OS machine is behind an Active Directory domain controller or a DNS server,
use the hostname of the Clear Linux OS machine. For other ways to access shares using a
hostname instead of an IP address, see <a class="reference external" href="https://www.samba.org/samba/docs/using_samba/ch07.html">Chapter 7 of the Samba guide</a>.</p>
</div>
<div class="section" id="map-cl-drive-in-windows">
<h2>Map Clear Linux OS drive in Windows</h2>
<ol class="arabic">
<li><p class="first">Open Windows Explorer and click on the left sidebar on <span class="guilabel">This PC</span>
to change the options available at the top.</p>
</li>
<li><p class="first">Click the <span class="guilabel">Map Network Drive</span> icon and enter the path in the
format: <code class="file docutils literal notranslate"><span class="pre">\\[server</span> <span class="pre">IP</span> <span class="pre">or</span> <span class="pre">hostname]\[shared</span> <span class="pre">folder]</span></code></p>
</li>
<li><p class="first">Check the box <span class="guilabel">Connect using different credentials</span>. Enter
the Samba user <cite>clearlinuxuser</cite> and the password created with
<strong class="command">smbpasswd</strong>. See Figure 1 for details.</p>
<div class="figure" id="id1">
<a class="reference internal image-reference" href="../../_images/smb-1.png"><img alt="Map a network drive in Windows Explorer" src="../../_images/smb-1.png" style="width: 667.8px; height: 518.0px;" /></a>
<p class="caption"><span class="caption-text">Figure 1: Map a network drive in Windows Explorer.</span></p>
</div>
</li>
</ol>
<p>When complete, Windows Explorer displays the share drive as shown in Figure 2.</p>
<div class="figure" id="id2">
<a class="reference internal image-reference" href="../../_images/smb-2.png"><img alt="View a share drive in Windows Explorer" src="../../_images/smb-2.png" style="width: 642.5999999999999px; height: 384.29999999999995px;" /></a>
<p class="caption"><span class="caption-text">Figure 2: View a share drive in Windows Explorer.</span></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="smb-desktop.html" class="btn btn-neutral float-right" title="Connect to Windows* shared location from Clear Linux* OS desktop" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../aws-web/aws-web.html" class="btn btn-neutral float-left" title="Create and launch Clear Linux* OS from Amazon Web Services" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, many
      <span class="lastupdated">
        最后更新于 7月 24, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>


      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  

<script type="text/javascript" src="../../_static/tcs_theme.js"></script>



</body>
</html>